looker.plugins.visualizations.add({options:{icon_uri:{section:"Icon",type:"string",label:"Icon URI",display:"text",default:"https://upload-icon.s3.us-east-2.amazonaws.com/uploads/icons/png/4987286121594941299-512.png"},icon_height:{section:"Icon",type:"string",label:"Icon Height",display:"text",default:"30px"},icon_width:{section:"Icon",type:"string",label:"Icon Width",display:"text",default:"30px"},icon_left_margin:{section:"Icon",type:"string",label:"Icon Left Margin",display:"text",default:"6REM"},flexible:{section:"Styling",type:"boolean",label:"Auto-sizing and layout",default:!1},left_right:{section:"Styling",type:"boolean",label:"Align icon on left or right",default:!1},background:{section:"Styling",type:"array",label:"Fill color",display:"color",default:"coral"},alignment:{section:"Styling",type:"string",label:"Value text alignment",display:"text",default:"left"},border_radius:{section:"Styling",type:"string",label:"Border Radius",display:"text",default:"20px"},title_label:{section:"Title",type:"string",label:"Label",placeholder:"Single Value"},title_font_size:{section:"Title",type:"string",label:"Font Size",placeholder:"16px",default:"16px"},title_font_family:{section:"Title",type:"string",label:"Font Family",placeholder:"Open Sans",default:"Open Sans"},title_font_weight:{section:"Title",type:"string",label:"Font Weight",placeholder:"normal",default:"normal"},title_color:{section:"Title",type:"array",label:"Fill color",display:"color",default:"black"},headerMarginLeft:{section:"Title",type:"string",label:"Header left margin",display:"text",default:"0px"},value_font_size:{section:"Value",type:"string",label:"Font Size",placeholder:"16px",default:"16px"},value_color:{section:"Value",type:"array",label:"Fill color",display:"color",default:"black"},value_font_family:{section:"Value",type:"string",label:"Font Family",placeholder:"Open Sans",default:"Open Sans"},value_font_weight:{section:"Value",type:"string",label:"Font Weight",placeholder:"normal",default:"bold"},lower_note:{section:"Notes",type:"string",label:"Note beneath text",display:"text",default:""},note_color:{section:"Notes",type:"array",label:"Text color",display:"color",default:"black"},lower_note_margin:{section:"Notes",type:"string",label:"Lower note upper margin",display:"text",default:"10px"},lower_note_text_size:{section:"Notes",type:"string",label:"Lower note text size",display:"text",default:"10px"},icon_note:{section:"Notes",type:"string",label:"Icon Hover Note",display:"text",default:""}},create:function(e,t){e.innerHTML='<div class="single_value">Rendering...</div>'},updateAsync:function(e,t,n,l,i,o){t.innerHTML="";let a=l.fields.measure_like.map((e=>({[e.label]:e.name}))),r=this.options;r.headerData={section:"Value",type:"string",label:"Measures for Header",display:"select",values:a},this.trigger("registerOptions",r);var s=e[0][n.headerData],c=s?LookerCharts.Utils.htmlForCell(s):"",d=t.clientHeight,p=(t.clientWidth,document.createElement("style"));if(p.setAttribute("type","text/css"),p.innerHTML=`\n          @font-face {\n            font-family: Open Sans;\n            src: url( https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0b.woff2 );\n          }\n          div {\n            background-color: ${n.background};\n            text-align: ${n.alignment}\n          }\n          img {\n            height: ${n.flexible?d/1.5+"px":n.icon_height};\n            width: ${n.flexible?d/1.5+"px":n.icon_width};\n            margin: ${n.flexible?d/4-10+"px "+d/4-10+"px auto":"10px 10px auto"};\n          }\n          .headerDiv {\n            display: flex;\n            justify-content: space-between;\n            font-family: ${n.title_font_family};\n            color: ${n.title_color};\n            font-size: ${n.flexible?"4vw":n.title_font_size};\n            font-weight: ${n.title_font_weight};\n          }\n          #vis {\n            border-radius: ${n.border_radius};\n            padding: 10px;\n            width: calc(100% - 40px);\n            display: flex;\n            justify-content: space-between;\n            flex-direction: column;\n          }\n          span {\n            margin-top: ${n.flexible?"auto":"10px"};\n            margin-left: ${n.flexible?"auto":n.headerMarginLeft}\n          }\n          a {\n            font-family: ${n.value_font_family};\n            color: ${n.value_color};\n            font-size: ${n.flexible?"13vw":n.value_font_size};\n            font-weight: ${n.value_font_weight};\n            text-decoration: none;\n          }\n          .value {\n            font-family: ${n.value_font_family};\n            color: ${n.value_color};\n            font-size: ${n.flexible?"13vw":n.value_font_size};\n            text-decoration: none;\n            font-weight: ${n.value_font_weight};\n          }        \n          .headerDiv .tooltiptext {\n            visibility: hidden;\n            width: 200px;\n            background-color: #555;\n            color: #fff;\n            text-align: center;\n            border-radius: 6px;\n            padding: 5px 0;\n            position: absolute;\n            z-index: 100;\n            right: 65px;\n            opacity: 0;\n            transition: opacity 0.3s;\n          }\n          \n          .headerDiv .tooltiptext::after {\n            content: "";\n            position: absolute;\n            right: 65px;\n            border-width: 5px;\n            border-style: solid;\n            border-color: #555 transparent transparent transparent;\n          }\n          \n          .headerDiv:hover .tooltiptext {\n            visibility: visible;\n            opacity: 1;\n          }\n          .verticalContainer{\n            display: flex; /* or inline-flex */\n            flex-direction: column;\n            justify-content: space-between;\n          }\n          .container {\n            display: flex; /* or inline-flex */\n            flex-direction: row;\n            justify-content: flex-start;\n            align-items: center;\n          }\n          .title_value {\n            display: flex;\n            flex-direction: column;\n          }\n          .lower_note {\n            color: ${n.note_color};\n            align-self: center;\n            margin-top: ${n.lower_note_margin};\n            font-size: ${n.lower_note_text_size};\n          }\n          ;`,document.head.appendChild(p),n.left_right)(_=document.createElement("div")).setAttribute("class","headerDiv"),(b=document.createElement("span")).innerHTML=n.title_label,_.appendChild(b),(f=document.createElement("img")).setAttribute("src",n.icon_uri),_.appendChild(f),n.icon_note&&n.icon_note.length>0&&((y=document.createElement("span")).setAttribute("class","tooltiptext"),y.innerHTML=n.icon_note,_.appendChild(y)),(h=document.createElement("div")).setAttribute("class","value"),h.innerHTML=c,(m=document.createElement("div")).setAttribute("class","lower_note"),m.innerHTML=n.lower_note,t.appendChild(_),t.appendChild(h),n.lower_note&&t.appendChild(m);else{var u=document.createElement("div");u.setAttribute("class","verticalContainer");var f,g=document.createElement("div");g.setAttribute("class","container"),(f=document.createElement("img")).setAttribute("src",n.icon_uri),g.appendChild(f);var _,b,y,h,m,x=document.createElement("div");x.setAttribute("class","title_value"),(_=document.createElement("div")).setAttribute("class","headerDiv"),(b=document.createElement("span")).innerHTML=n.title_label,_.appendChild(b),n.icon_note&&n.icon_note.length>0&&((y=document.createElement("span")).setAttribute("class","tooltiptext"),y.innerHTML=n.icon_note,_.appendChild(y)),x.appendChild(_),(h=document.createElement("div")).setAttribute("class","value"),h.innerHTML=c,x.appendChild(h),g.appendChild(x),n.lower_note?((m=document.createElement("div")).setAttribute("class","lower_note"),m.innerHTML=`<em>${n.lower_note}</em>`,u.appendChild(g),u.appendChild(m),t.appendChild(u)):t.appendChild(g)}o()}});